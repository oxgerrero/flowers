<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="stilito.css">
    <title>MemberShip</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
    <section class="form-register">
        <h4>MemberShip</h4>
        <input class="controls" type="text" name="Name" id="Name" placeholder="Name">
        <input class="controls" type="text" name="Last" id="Last" placeholder="Last Name">
        <input class="controls" type="email" name="Email" id="Email" placeholder="Email">
        <input class="controls" type="number" name="Phone" id="Phone" placeholder="phone">
        <input class="botons" type="submit" value="register" onclick="registrar()">
        <p><a href="index.html">Back</a></p>
    </section>

</body>
<script>
    function registrar() {
        var n = document.getElementById("Name").value;
        var a = document.getElementById("Last").value;
        var e = document.getElementById("Email").value;
        var t = document.getElementById("Phone").value;
        var sentencia = "INSERT INTO `memberships`(`name`, `last_name`, `email`, `phone`) VALUES ('" + n + "','" + a + "','" + e + "','" + t + "')"
        alert(sentencia);
        $.ajax({
            url: 'insertar.php',
            type: 'post',
            data: {
                move: sentencia
            },
            success: function() {
                console.log("created successfuly");
            },
            error: function(e) {
                console.log(e);
            }
        })
        location.reload();
    };

    var input = document.getElementById('Phone');
    input.addEventListener('input', function() {
        if (this.value.length > 10)
            this.value = this.value.slice(0, 10);
    })
</script>

</html>